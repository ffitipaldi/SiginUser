@using SiginUser.Models.Consultas
@using System.Globalization

<h3>Agendamentos</h3>

<!-- Agendamentos -->
<div>
    @if(listDtAgendas.Count == 0 )
    {
        <span>Não existem agendas a serem mostadas.</span>
    }
    else
    {
        <span>Atendimentos agendados para </span>
        <select class="form-control-sm"> 
        @for (var i = 0; i < listDtAgendas.Count; i++)
        {
            @if(listDtAgendas[i].DataAgenda.Date == DateTime.Now.Date)
            {
                <option selected>
                    @listDtAgendas[i].DataAgenda.ToString("dddd - dd/MM/yyyy",idioma)
                </option> 
            } 
            else
            {
                <option>
                    @listDtAgendas[i].DataAgenda.ToString("dddd - dd/MM/yyyy",idioma)
                </option>
            }
        }
        </select>
    }
</div>


<div class="row">

    <!-- Detalhe dos agendamentos - tabela a esquerda -->
    <div class="col-sm-6">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">Hora</th>
                    <th scope="col">Cliente</th>
                    <th scope="col">Telefone</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th scope="row">08:00</th>
                    <td>Francisco de Assis Moura</td>
                    <td>(11) 93240-3415</td>
                    @*<td><span class="oi oi-check me-2" aria-hidden="true"></span></td>*@
                </tr>
                <tr>
                    <th scope="row">09:00</th>
                    <td>Maria do Socorro Melo</td>
                    <td>(11) 93210-0987</td>
                    @*<td><span class="oi oi-x me-2" aria-hidden="true"></span></td>*@
                </tr>
                <tr>
                    <th scope="row">10:00</th>
                    <td>Adriana Vasconselos</td>
                    <td><span></span></td>
                </tr>
                <tr>
                    <th scope="row">11:00</th>
                    <td>Jussara Aparecida da Silva</td>
                    <td><span></span></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Detalhe dos agendamentos - tabela a direita -->
    <div class="col-sm-6">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">Hora</th>
                    <th scope="col">Cliente</th>
                    <th scope="col">Telefone</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th scope="row">13:00</th>
                    <td>Adelaide Bezerra da Silva</td>
                    <td>(11) 98765-4321</td>
                </tr>
                <tr>
                    <th scope="row">14:00</th>
                    <td>Maria Clara Bernardes</td>
                    <td><span></span></td>
                </tr>
                <tr>
                    <th scope="row">15:00</th>
                    <td>Rafael de Andrade</td>
                    <td><span></span></td>
                </tr>
                <tr>
                    <th scope="row">16:00</th>
                    <td>Tatiana Azevêdo</td>
                    <td><span></span></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

@code{

    CultureInfo idioma = new CultureInfo("pt-BR");

    public List<DataAgendas> listDtAgendas { get { return GetDatasAgendas(); } }

    private  List<DataAgendas> GetDatasAgendas() => new List<DataAgendas>()
        {
            
            new DataAgendas(){
                DataAgenda =  new DateTime(2022, 5, 22)
            },
            new DataAgendas(){
                DataAgenda = new DateTime(2022, 5, 23)
            },
            new DataAgendas(){
                DataAgenda = new DateTime(2022, 5, 24)
            },
            new DataAgendas(){
                DataAgenda = new DateTime(2022, 5, 25)
            }
        };

    private string DataCorrente = "segunda-feira 09/05/2022";
    private string TipoPerfil = "Psicólogo";
}
